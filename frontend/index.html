<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RapidTools - Automated Weekly Reports</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 min-h-screen">

  <!-- Header -->
  <header class="bg-gradient-to-r from-blue-600 to-blue-700 text-white py-8 shadow-lg">
    <div class="container mx-auto px-4 max-w-4xl">
      <h1 class="text-4xl font-bold mb-2">RapidTools: Automated Weekly Reports</h1>
      <p class="text-blue-100 text-lg">Turn GA4 data into clean client-ready PDF reports automatically.</p>
    </div>
  </header>

  <main class="container mx-auto px-4 max-w-4xl py-8">

    <!-- Agency Registration Section -->
    <section id="registration-section" class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">1. Register Your Agency</h2>
      <p class="text-gray-600 mb-4">Get started with a 14-day free trial. No credit card required.</p>

      <div class="space-y-4">
        <div>
          <label for="agency-name" class="block text-sm font-medium text-gray-700 mb-1">Agency Name</label>
          <input
            type="text"
            id="agency-name"
            placeholder="Acme Digital Agency"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          />
        </div>

        <div>
          <label for="billing-email" class="block text-sm font-medium text-gray-700 mb-1">Billing Email</label>
          <input
            type="email"
            id="billing-email"
            placeholder="billing@agency.com"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          />
        </div>

        <button
          id="register-btn"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200"
        >
          Generate API Key
        </button>
      </div>

      <!-- Agency Details (hidden until registered) -->
      <div id="agency-details" class="mt-6 hidden">
        <div class="bg-green-50 border border-green-200 rounded-md p-4">
          <h3 class="font-semibold text-green-800 mb-2">✓ Registration Successful</h3>
          <div class="space-y-2 text-sm">
            <div>
              <span class="font-medium text-gray-700">Agency ID:</span>
              <code id="agency-id" class="ml-2 bg-gray-100 px-2 py-1 rounded text-xs"></code>
            </div>
            <div>
              <span class="font-medium text-gray-700">API Key:</span>
              <code id="api-key" class="ml-2 bg-gray-100 px-2 py-1 rounded text-xs"></code>
              <button id="copy-api-key" class="ml-2 text-blue-600 hover:text-blue-800 text-xs">Copy</button>
            </div>
            <div>
              <span class="font-medium text-gray-700">Status:</span>
              <span id="subscription-status" class="ml-2 bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo Client Section -->
    <section id="demo-section" class="bg-white rounded-lg shadow-md p-6 mb-6 opacity-50 pointer-events-none" data-requires-auth>
      <h2 class="text-2xl font-bold text-gray-800 mb-4">2. Create Demo Client</h2>
      <p class="text-gray-600 mb-4">Create a test client to see how reports work.</p>

      <button
        id="create-demo-client-btn"
        class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200"
      >
        Create Demo Client
      </button>

      <!-- Demo Client Details -->
      <div id="demo-client-details" class="mt-4 hidden">
        <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
          <h3 class="font-semibold text-blue-800 mb-2">✓ Demo Client Created</h3>
          <div class="text-sm">
            <span class="font-medium text-gray-700">Client ID:</span>
            <code id="demo-client-id" class="ml-2 bg-gray-100 px-2 py-1 rounded text-xs"></code>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo Report Section -->
    <section id="report-section" class="bg-white rounded-lg shadow-md p-6 mb-6 opacity-50 pointer-events-none" data-requires-auth>
      <h2 class="text-2xl font-bold text-gray-800 mb-4">3. Generate Demo Report</h2>
      <p class="text-gray-600 mb-4">Upload sample GA4 data and generate a branded PDF report.</p>

      <button
        id="generate-demo-report-btn"
        class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200"
      >
        Generate Demo Report
      </button>

      <!-- Report Details -->
      <div id="report-details" class="mt-4 hidden">
        <div class="bg-purple-50 border border-purple-200 rounded-md p-4">
          <h3 class="font-semibold text-purple-800 mb-2">✓ Report Generated</h3>
          <div class="space-y-2 text-sm">
            <div>
              <span class="font-medium text-gray-700">PDF Key:</span>
              <code id="pdf-key" class="ml-2 bg-gray-100 px-2 py-1 rounded text-xs block mt-1"></code>
            </div>
            <div>
              <span class="font-medium text-gray-700">Status:</span>
              <span id="report-status" class="ml-2 text-green-600 font-medium"></span>
            </div>
            <div class="mt-2">
              <a id="pdf-download-link" href="#" class="text-blue-600 hover:text-blue-800 underline">View Report</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Upgrade Section -->
    <section id="upgrade-section" class="bg-white rounded-lg shadow-md p-6 mb-6 opacity-50 pointer-events-none" data-requires-auth>
      <h2 class="text-2xl font-bold text-gray-800 mb-4">4. Upgrade to Paid</h2>
      <p class="text-gray-600 mb-4">Ready to go live? Upgrade to send unlimited reports.</p>

      <div class="bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-md p-6 mb-4">
        <div class="flex justify-between items-center mb-4">
          <div>
            <h3 class="text-xl font-bold text-gray-800">Starter Plan</h3>
            <p class="text-gray-600 text-sm">Perfect for small agencies</p>
          </div>
          <div class="text-right">
            <div class="text-3xl font-bold text-blue-600">£25</div>
            <div class="text-sm text-gray-600">/month</div>
          </div>
        </div>
        <ul class="space-y-2 text-sm text-gray-700 mb-4">
          <li>✓ Up to 5 clients</li>
          <li>✓ Weekly automated reports</li>
          <li>✓ Branded PDFs</li>
          <li>✓ Email delivery</li>
          <li>✓ Email support</li>
        </ul>
      </div>

      <button
        id="upgrade-btn"
        class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-md transition duration-200"
      >
        Upgrade Now
      </button>
    </section>

    <!-- Status Messages -->
    <div id="status-container" class="fixed bottom-4 right-4 space-y-2"></div>

  </main>

  <footer class="bg-gray-800 text-gray-400 py-6 mt-12">
    <div class="container mx-auto px-4 max-w-4xl text-center text-sm">
      <p>Powered by RapidTools | Target: £2,000+/month MRR</p>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
